<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Volcans</title>
  <link href="https://philippe-preux.github.io/css/ma.css" 
	rel="stylesheet" type="text/css" media="all" />
  <link rel="shortcut icon" type="image/x-icon" 
	href="https://philippe-preux.github.io/img/site.ico" />
  <style type="text/css">
    .aligncenter {
	text-align: center;
    }
  </style>
</head>

<body>
<div class="tpR">

  <h1>Divers sujets avec les volcans</h1>

  <h2>Introduction au TP</h2>

  <p>

    Ce TP est la suite du <a href="../cc/index.html">contrôle 1</a>.

    <br/>
    
    On suppose que toutes les questions du contrôle ont été réalisées.
    
  </p>

  <h2>Représentation géolocalisée</h2>
  
  <h3>Introduction</h3>

  <p>

    Lorsque l'on traite des données contenant des informations géographiques, il est courant de souhaiter les représenter sur une carte pour obtenir quelque chose comme cela&nbsp;:
    
  </p>

  <p class="aligncenter">
    <img src="./volcan-sur-planisphere.png" width="600pt" alt="Planisphère avec des volcans actifs ces 12000 dernières années." />
    
  </p>

  <p>

    Pour faire cela, on procède comme suit.

    <br/>
    <br/>

    On a besoin d'importer le paquetage <kbd>geopandas</kbd>.

    <br/>

    S'il n'est pas installé, vous devez le faire. Sous Ubuntu vous faites&nbsp;:
    
  </p>

  <ol>
    <li>ouvrir une fenêtre terminal</li>
    <li>taper la commande&nbsp;: <kbd>pip3 install geopandas</kbd></li>
  </ol>

  <p>

    c'est fait. Vous pouvez maintenant importer <kbd>geopandas</kbd>.

    <br/>

    Si contrairement à ce que je recommande vous n'êtes pas sous Ubuntu, je ne sais pas comment il faut faire. À vous de trouver.

  </p>

  <h3></h3>

  <p>

    Pour réaliser le graphique ci-dessus, on fait ainsi&nbsp;:
    
  </p>

  <pre>import geopandas as gpd
planisphere = gpd.read_file (gpd.datasets.get_path ("naturalearth_lowres"))
fig, ax = plt.subplots ()    
planisphere.plot (color = "lightgrey", ax = ax)
volcano.plot (x = "longitude", y = "latitude", kind = "scatter",
              color = "peru", alpha = 0.3, s = 1,
              title = f"Éruptions volcaniques durant\n les 12 derniers milliers d'années.",
              ax = ax)
ax.set_xlabel ("Longitude")
ax.set_ylabel ("Latitude")
fig.show ()
  </pre>

  <p>

    Quelques informations&nbsp;:
    
  </p>

  <ul>
    <li>on commence par charger dans l'objet <kbd>planisphere</kbd> une représentation géométrique de tous les pays du monde.</li>
    <li>on dessine la planisphère en gris clair.</li>
    <li>on ajoute les volcans selon leurs longitude et latitude.</li>
    <li>on ajoute des étiquettes sur les deux axes de coordonnées.</li>
  </ul>
  
  <h3>Activités en autonomie</h3>

  <p>

    <b>À faire&nbsp;:</b>

  </p>

  <ul>
    <li>afficher uniquement les volcans ayant eu au moins un éruption depuis 1 siècle.</li>
    <li>Afficher uniquement les volcans des États-Unis.</li>
    <li>Afficher uniquement les volcans en France.</li>
    <li>Afficher uniquement les volcans qui ont eu plus de 100 éruptions.</li>
  </ul>

  <h3></h3>


  <h2>Enrichissement du jeu de données</h2>

  <h3>Introduction</h3>

  <p>

    Nous avons étudié un jeu de données contenant des éruptions volcaniques. Chaque volcan est décrit dans un autre jeu de données qui contient des informations générales à propos de chaque volcan.

    <br/>
    <br/>

    Ce jeu de données est disponible à cette url&nbsp;: <kbd>https://philippe-preux.github.io/ensg/miashs/l3-sd2/datasets/volcanos/volcano.csv</kbd>.

    <br/>
    <br/>

    On va utiliser ce second jeu de données en complément du premier qui contient les éruptions.

    <br/>
    <br/>

    <b>À faire&nbsp;:</b> charger ce jeu de données. Appelons <kbd>volcans</kbd> ce jeu de données.
    
    <br/>
    <br/>

    L'attribut <kbd>volcano_number</kbd> fait le lien entre les deux&nbsp;: ainsi, la première éruption du jeu de données <kbd>éruptions</kbd> a eu lieu sur le volcan numéro 266030. Dans le jeu de données <kbd>volcans</kbd>, on retrouve le volcan avec ce numéro. Il a bien le même nom dans les deux jeux de données mais en plus, dans <kbd>volcans</kbd>, on a des informations sur son type, l'année de sa dernière éruption (que l'on retrouve dans <kbd>érptions</kbd>), le pays où il se trouve, ses coordonnées géographiques, sa composition rocheuse, et des informations sur la population alentour, dans un rayon de 5, 10, 30 et 100 km.
    
    <br/>
    <br/>

    <b>À faire&nbsp;:</b>

  </p>

  <ul>
    <li>combien y a-t-il de volcans autour desquels plus d'un million de personnes vivent dans un rayon de 5km&nbsp;?</li>
    <li>même question 30km&nbsp;?</li>
    <li>représentez-les sur le planisphère, les premiers en rouge, les seconds en bleu.</li>
  </ul>

  <ul>
    <li>représenter sur le planisphère le lieu des éruptions volcaniques dont le VEI est &ge; 5 et s'étant déroulés depuis 1900.</li>
  </ul>

  
</div>

<!-- Default Statcounter code for on github
https://philippe-preux.github.io -->
<script type="text/javascript">
var sc_project=12923547; 
var sc_invisible=1; 
var sc_security="627600d4"; 
</script>
<script type="text/javascript"
src="https://www.statcounter.com/counter/counter.js"
async></script>
<noscript><div class="statcounter"><a title="Web Analytics"
href="https://statcounter.com/" target="_blank"><img
class="statcounter"
src="https://c.statcounter.com/12923547/0/627600d4/1/"
alt="Web Analytics"
referrerPolicy="no-referrer-when-downgrade" /></a></div></noscript>
  <!-- End of Statcounter Code -->
  
</body>
</html>
