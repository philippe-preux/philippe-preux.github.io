<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
  <title>Prise en main de R</title>
  <link href="../ma.css" 
	rel="stylesheet" type="text/css" media="all" />
</head>

<body>
<div class="tpR">
<h1>Prise en main de R</h1>

<p>

L'objectif de ce TD est de vous familiariser avec <a
href="http://www.r-project.org/">R</a>, un environnement libre pour le
calcul statistique.

<br/>
<br/>

Ce TP est réalisé sous Linux. Sachez néanmoins que R fonctionne sous
Windows et sous MacOS.

</p>

<h2>Lancer R et le quitter</h2>

<h3>Lancer R</h3>

<p>

Ouvrez une fenêtre <i>shell</i>, tapez la commande <kbd>R</kbd> et voilà...
vous obtenez ce qui suit&nbsp;:

</p>

<center>
  <img src="lancementDeR.png" alt="message d'accueil dans R" />
</center>

<p>

Les commandes essentielles sont indiquées dans ce message, en
particulier comment quitter R. La dernière ligne qui commence par un
&gt; est une invite pour que vous tapiez une commande&nbsp;: c'est ce
que l'on appelle un «&nbsp;prompt&nbsp;», c'est-à-dire, un signe qui
vous indique que le logiciel attend que tapiez quelque chose.

</p>

<h3>Quitter R</h3>

<p>

La dernière ligne du message d'accueil vous informe que pour quitter
R, il faut taper la commande <kbd>q()</kbd> suivie d'un retour-chariot
(= touche Entrée). Faites-le&nbsp;; vous obtenez le résultat
suivant&nbsp;:

</p>

<center>
  <img src="quitterR.png" alt="message de départ de R" />
</center>

<p>

Vous avez là la possibilité de sauvegarder votre travail en tapant
<kbd>y</kbd> (comme 'y'es) suivi d'un retour-chariot, ou de quitter R
sans sauvegarder votre travail en tapant <kbd>n</kbd> (comme 'n'o), ou
encore de revenir dans R en tapant <kbd>c</kbd> (comme 'c'ontinue).

<br/>

Si vous quitter R en sauvegardant votre travail, vous avez aussi la
possibilité de récupérer votre travail et de le mettre soit sur votre
clé USB, soit vous l'envoyer par email pour travailler chez vous (par
exemple). Cela sera expliqué à la fin du TP.

<br/>
<br/>

Pour l'heure, le TP ne fait que commencer, donc restez sous R en
tapant <kbd>c</kbd> (suivi de retour-chariot&nbsp;: il faut toujours
taper un retour-chariot après une commande pour la valider et que R la
prenne en compte&nbsp;; on ne le dira donc plus).

</p>

<h2>R&nbsp;: une calculatrice</h2>

<h3>Calculs élémentaires</h3>

<p>

L'utilisation la plus simple de R est de l'utiliser comme une
«&nbsp;simple&nbsp;» calculatrice. On verra que c'est en fait une
calculatrice très sophistiquée.

<br/>
<br/>

Par exemple, tapez la commande suivante (tous les exemples doivent
être tapés&nbsp;; le symbole &gt; indique qu'il s'agît d'une commande
R&nbsp;: vous ne devez pas le taper, il est déjà affiché à l'écran)&nbsp;:

</p>

  <pre>&gt; 2+3</pre>

<p>

R vous répond immédiatement&nbsp;:

</p>

  <pre>[1] 5</pre>

<p>

Si on laisse de côté le <kbd>[1]</kbd> qui sera expliqué plus loin, on
obtient bien le résultat attendu.

<br/>
<br/>

Naturellement, tous les opérateurs habituels sont disponibles, ainsi
que les fonctions logarithmiques, trigonométriques, et bien d'autres.

<br/>
<br/>

On peut affecter le résultat d'un calcul à une variable. Une variable
est une entité qui porte un nom et qui contient une valeur. Par
exemple, si on tape&nbsp;:

</p>

<pre>&gt; a &lt;- 2 * sqrt (5) + pi</pre>

<p>

R n'affiche rien, mais il a&nbsp;:

</p>

<ul>
  <li>calculé la valeur de l'expression 
    <kbd>2 * sqrt (5) + pi</kbd>&nbsp;;</li>
  <li>affecté cette valeur à une variable dont le nom est <kbd>a</kbd>.</li>
</ul>

<p>

L'affectation se fait donc par l'opérateur <kbd>&lt;-</kbd>. À sa
gauche, on indique le nom de la variable à laquelle il faut affecter
la valeur qui se trouve à sa droite.

<span class="detail">En passant, vous aurez noter l'utilisation de
<kbd>pi</kbd> pour obtenir la valeur de &pi;. <kbd>pi</kbd> est une
variable pré-définie dans R dont la valeur est celle de &pi;.</span>

<br/>
<br/>

On peut afficher la valeur d'une variable en tapant simplement son
nom&nbsp;:

</p>

<pre>a
[1] 7.613729
</pre>

<p>

Naturellement, on peut utiliser la valeur d'une variable pour
effectuer des calculs, par exemple&nbsp;:

</p>

<pre>&gt; b &lt;- (a - 1) * (a + 1)</pre>

<p>

Pour simplifier la saisie des commandes, vous pouvez utiliser la
touche flêchée &#8593; pour retrouvez les commandes que vous avez déjà
tapées et pour les modifier. Ainsi, R garde l'historique des commandes
que vous tapez. Vous pouvez remonter dans l'historique avec la touche
&#8593; et redescendre avec la touche &#8595;. Quand vous remontez
dans l'historique, vous pouvez ensuite utiliser les touches flêchées
&#8592; et &#8594; pour éditer la commande. Ainsi, utilisez ces
touches pour taper la commande suivante, qui diffère peu d'une
commande que vous avez tapée plus haut&nbsp;:

</p>

<pre>&gt; 3 * sqrt (5 + pi)</pre>

<p>

Prenez l'habitude d'utiliser ces touches flêchées&nbsp;: elles
permettent d'accélérer très sensiblement la saisie des commandes, et
ceci, même si l'on est déjà habile avec le clavier de son ordinateur.

<br/>
<br/>

La table suivante indique des opérateurs et des fonctions de R&nbsp;:

</p>

<center>
  <table border="3">
    <tr><th>notation en R</th><th>valeur mathématique</th></tr>
    <tr><td align="center"><kbd>a + b</kbd></td>
        <td align="center">somme de a et b</td></tr>
    <tr><td align="center"><kbd>a - b</kbd></td>
        <td align="center">b soustrait de a</td></tr>
    <tr><td align="center"><kbd>a * b</kbd></td>
        <td align="center">produit de a par b</td></tr>
    <tr><td align="center"><kbd>a / b</kbd></td>
        <td align="center">division réelle de a par b</td></tr>
    <tr><td align="center"><kbd>a %/% b</kbd></td>
        <td align="center">division euclidienne (entière) de a par b</td></tr>
    <tr><td align="center"><kbd>a %% b</kbd></td>
        <td align="center">a mod b</td></tr>
    <tr><td align="center"><kbd>a ^ b</kbd></td>
        <td align="center">a à la puissance b</td></tr>
    <tr><td align="center"><kbd>sqrt (a)</kbd></td>
        <td align="center">racine carrée de a</td></tr>
    <tr><td align="center"><kbd>abs (a)</kbd></td>
        <td align="center">valeur absolue de a</td></tr>
    <tr><td align="center"><kbd>log (a)</kbd></td>
        <td align="center">logarithme naturel de de a</td></tr>
    <tr><td align="center"><kbd>exp (a)</kbd></td>
        <td align="center">exponentielle de a</td></tr>
    <tr><td align="center"><kbd>sin (a)</kbd></td>
        <td align="center">sinus de a (en radians)</td></tr>
    <tr><td align="center"><kbd>cos (a)</kbd></td>
        <td align="center">cosinus de a (en radians)</td></tr>
    <tr><td align="center"><kbd>tan (a)</kbd></td>
        <td align="center">tangente de a (en radians)</td></tr>
  </table>
</center>

<p>

Cette liste est loin d'être exhaustive&nbsp;!

</p>

<div class="exercice">

<ul>
  <li>calculez les racines de l'équation 2 x<sup>2</sup> + 5 x - 12 = 0.</li>
</ul>

</div>

<p>

À tout moment une aide en ligne est accessible avec la commande
<kbd>?topic</kbd>, où <kbd>topic</kbd> peut être remplacé par
n'importe-quelle commande. Essayez, par exemple
<kbd>?log</kbd>. (Tapez 'q' pour quitter l'aide.) <span
class="important">Il est très important d'apprendre à lire
l'aide. L'aide en-ligne contient énormément d'information&nbsp;: elle
est là, disponible, c'est à vous d'apprendre à l'utiliser.</span> Les
pages d'aide ont toutes la même structure&nbsp;:

</p>

<ul>
  <li>une description rapide de la commande et, éventuellement, de
    commandes apparentées. Pour <kbd>log</kbd>, diverse commandes
    calculant le logarithme dans différentes bases et les exponentiations
    sont apparentées&nbsp;;</li>

  <li>comment on utilise la commande&nbsp;;</li>

  <li>les paramètres de la commande&nbsp;;</li>

  <li>une description détaillée de la commande&nbsp;;</li>

  <li>la valeur de la commande. Là, le comportement de la fonction
    dans des cas exceptionnels est indiqué&nbsp;; ainsi, on apprend que
    <kbd>log(0)</kbd> a pour valeur <kbd>-Inf</kbd>, c'est-à-dire moins
    l'infini&nbsp;;</li>

  <li>des remarques complémentaires&nbsp;;</li>

  <li>des références bibliographiques où la manière dont la fonction
    est calculée est tirée&nbsp;;</li>

  <li>d'autres commandes à consulter si l'on veut des informations
    complémentaires, sur d'autres fonctions proches&nbsp;;</li>

  <li>des exemples&nbsp;: <span class="important">cette section est
    extrêmement utile</span> car si l'on n'a pas compris les
    explications, on nous donne des exemples d'utilisation qui peuvent
    être directement copiées/collées dans R.</li>
</ul>

<div class="exercice">

<p>

Répondre aux questions suivantes en utilisant la documentation
en-ligne&nbsp;:

</p>

<ul>
  <li>que donne le logarithme d'un nombre négatif&nbsp;?</li>
  <li>que donne la racine carrée d'un nombre négatif&nbsp;?</li>
  <li>que donne 1/0&nbsp;?</li>
  <li>que donne 0/0&nbsp;?</li>
  <li>calculez le logarithme en base 5 de 23&nbsp;;</li>
  <li>comment obtenez-vous la valeur de e (base du logarithme 
    naturel)&nbsp;?</li>
  <li>comment calculez-vous l'arcsinus d'un nombre&nbsp;?</li>
</ul>

</div>

<h3>Calculs avec des complexes</h3>

<p>

Jusqu'à maintenant, on n'a manipulé que des nombres réels.  On peut
aussi manipuler des nombres complexes directement&nbsp;: si l'on colle
un <kbd>i</kbd> juste derrière un réel, il devient un nombre
imaginaire. Ainsi, <kbd>2+3i</kbd> est un nombre complexe, dont la
partie réelle vaut 2, la partie imaginaire vaut 3. (Attention, le
<kbd>i</kbd> <span class="important">doit être collé</span> au nombre.)

</p>

<div class="exercice">

<ul>
  <li>soustraire 4-1.5i de 2+3i.</li>

  <li>résoudre 2 x<sup>2</sup> + 5 x + 12 = 0.</li>

  <li>afficher la valeur de la racine carrée de -1 (en utilisant la
    fonction <kbd>sqrt</kbd>. (si vous avez du mal, lisez la phrase qui
    suit.)</li>
</ul>

</div>

<p>

Pour savoir si R fait ses calculs dans les réels ou les complexes, la
règle est la suivante&nbsp;: si vous n'utilisez que des nombres réels,
R fait les calculs dans l'ensemble des réels. Si un complexe
intervient, R fait ses calculs dans les complexes. Ainsi, on peut
utiliser la notation <kbd>0i</kbd> qui d'un point de vue mathématique
n'a pas beaucoup d'intérêt, pour obliger R à faire ses calculs avec
des complexes.

<br/>
<br/>

Il existe des fonctions pré-définies spécifiques pour les complexes
(partie réelle, partie imaginaire, module, argument, conjugué). Vous
taperez <kbd>?complex</kbd> pour en avoir une liste. Par ailleurs,
toutes les fonctions réelles vues plus haut sont étendues aux
complexes.

</p>

<!--
On peut vouloir créer un nombre complexe dont la partie réelle ou la
partie imaginaire est stockée dans une variable, par exemple, le
nombre complexe dont la partie réelle vaut <kbd>a</kbd> et la partie
imaginaire vaut <kbd>b</kbd>. Confiant, vous tapez (faites-le)&nbsp;:

</p>

<pre>&gt; a + bi
</pre>

<p>

vous êtes déçu en obtenant le message&nbsp;:

</p>

<pre>Erreur : objet "bi" non trouvé
</pre>

<p>

En effet, R a «&nbsp;compris&nbsp;» que vous mentionnez une variable
dénommée <kbd>bi</kbd> qui n'existe pas...

<br/>
<br/>

Pour s'en sortir, R fournit une fonction qui créé un nombre complexe à
partir de la valeur de ses parties réelle et imaginaire, la fonction
<kbd>complex()</kbd>&nbsp;; ainsi, 

</p>

<pre>&gt; complex (real = 3, imag = 5)</pre> 

<p>

produit le complexe <kbd>3 + 5i</kbd>. Cependant, on peut
mettre des variables à la place de 3 et de 5, ce qui résout notre
problème.

</p>

<div class="exercice">

<ul>
  <li>faites l'opération que vous avez tentée ci-dessus en utilisant
    cette fonction.</li>
</ul>

</div>

-->

<h2>Syntaxe des commandes R</h2>

<p>

L'essentiel de ce qui est à connaître sur la syntaxe des commandes R
est d'ors et déjà vu&nbsp;; on voit ainsi que cette syntaxe est très
simple. On la résume ci-dessous&nbsp;:

</p>

<ul>
  <li>pour obtenir la valeur d'une expression&nbsp;: on tape cette
    expression&nbsp;;</li>

  <li>pour affecter une valeur à une variable&nbsp;: <kbd>nom de la
    variable &lt;- valeur à affecter</kbd>&nbsp;;</li>

  <li>pour obtenir la valeur d'une variable&nbsp;: on donne le nom de
    la variable&nbsp;;</li>

  <li>le nom d'une fonction est toujours suivie de parenthèses entre lesquelles on indique les paramètres de la fonction.</li>
</ul>

<h2>Vecteurs</h2>

<p>

Après les simples nombres, un deuxième type fondamental d'entités dans
R est le vecteur. Un vecteur peut-être créé de différentes
manières. Par exemple, créons un vecteur dont les éléments sont 0, -1,
&pi; et 4,78, et mettons-le dans une variable dont le nom est v&nbsp;:

</p>

<pre>&gt; v &lt;- c (0, -1, pi, 4.78)</pre>

<p>

La fonction <kbd>c</kbd> assemble et construit un vecteur avec ces
valeurs. On peut ensuite consulter la valeur des composantes du
vecteur&nbsp;:

</p>

<pre>&gt; v
[1]  0.000000 -1.000000  3.141593  4.780000
</pre>

<p>

On retrouve bien les valeurs avec lesquelles on a initialisé le
vecteur.

<br/>
<br/>

De nombreuses fonctions s'appliquent aux vecteurs. La table ci-dessous
en contient un certain nombre&nbsp;; essayez-les toutes&nbsp;:

</p>

<center>
  <table border="3">
    <tr><th>notation en R</th><th>valeur</th>
      <th>résultat sur l'exemple</th></tr>
    <tr><td align="center"><kbd>length (v)</kbd></td>
        <td align="center">nombre d'éléments de
          <kbd>v</kbd></td>
        <td align="center"><kbd>4</kbd></td></tr>
    <tr><td align="center"><kbd>min (v)</kbd></td>
        <td align="center">valeur de l'élément minimal de
          <kbd>v</kbd></td>
        <td align="center"><kbd>-1</kbd></td></tr>
    <tr><td align="center"><kbd>max (v)</kbd></td>
        <td align="center">valeur de l'élément maximal de
          <kbd>v</kbd></td>
        <td align="center"><kbd>4.78</kbd></td></tr>
    <tr><td align="center"><kbd>range (v)</kbd></td>
        <td align="center">vecteur composé des deux valeurs
           précédentes (le min et le max de
          <kbd>v</kbd>)</td>
        <td align="center"><kbd>-1.00  4.78</kbd></td></tr>
    <tr><td align="center"><kbd>sum (v)</kbd></td>
        <td align="center">valeur de la somme des éléments de
          <kbd>v</kbd>&nbsp;: &Sigma;<sub>i</sub>v<sub>i</sub></td>
        <td align="center"><kbd>6.921593</kbd></td></tr>
    <tr><td align="center"><kbd>prod (v)</kbd></td>
        <td align="center">valeur du produit des éléments de
          <kbd>v</kbd>&nbsp;: &Pi;<sub>i</sub>v<sub>i</sub></td>
        <td align="center"><kbd>0</kbd></td></tr>
    <tr><td align="center"><kbd>which.min (v)</kbd></td>
        <td align="center">indice de l'élément minimal de
          <kbd>v</kbd> (arg min<sub>i</sub> v<sub>i</sub>) </td>
        <td align="center"><kbd>2</kbd></td></tr>
    <tr><td align="center"><kbd>which.max (v)</kbd></td>
        <td align="center">indice de l'élément maximal de
          <kbd>v</kbd> (arg max<sub>i</sub> v<sub>i</sub>) </td>
        <td align="center"><kbd>4</kbd></td></tr>
  </table>
</center>

<h3>Opérations mathématiques sur les vecteurs</h3>

<p>

R peut naturellement effectuer toutes les opérations habituelles sur
les vecteurs. Les opérateurs vues plus haut sur les nombres
(<kbd>+</kbd>, <kbd>-</kbd>, ...) et les fonctions (<kbd>abs</kbd>,
<kbd>log</kbd>, ...) s'appliquent sur les vecteurs comme on s'y
attend. <span class="important">Toutes ces opérations se font terme à
terme</span>&nbsp;: aussi, quand il y a deux vecteurs (comme pour une
addition), il faut que les deux vecteurs aient le même
nombre d'éléments.

</p>

<div class="exercice">

  <ul>
    <li>définissez un vecteur dénommé <kbd>w</kbd> et initialisez ses
      composantes avec 3, -78, 0, e&nbsp;;</li>
    <li>faites la somme de <kbd>v</kbd> et <kbd>w</kbd>&nbsp;;</li>
    <li>faites <kbd>v * w</kbd>&nbsp;: qu'obtenez-vous&nbsp;?</li>
    <li>même question pour <kbd>v * w</kbd>, <kbd>v / w</kbd>, <kbd>v
      %/% w</kbd>, <kbd>v %% w</kbd> et <kbd>v ^ w</kbd>&nbsp;;</li>
    <li>idem pour <kbd>abs (v)</kbd>.</li>
  </ul>
</div>

<p>

Une opération très classique est de calculer le produit scalaire de
deux vecteurs&nbsp;:

</p>

<div class="exercices">

  <ul>
    <li>essayez <kbd>v %*% w</kbd> et concluez vous-même.</li>
  </ul>
</div>

<p>

Enfin, on peut ajouter un scalaire aux éléments d'un vecteur, la
soustraire, la multiplier, ... par les opérateurs habituels
(<kbd>+</kbd>, <kbd>-</kbd>, <kbd>*</kbd>, ...) en combinant un
vecteur et un scalaire. Ainsi,

</p>

<pre>v + 3
</pre>

<p>

produit un vecteur dont les composantes sont celles de <kbd>v</kbd>
augmentées de <kbd>3</kbd>.

</p>

<h3>Indexation des éléments d'un vecteur</h3>

<p>

On peut aussi demander la valeur du troisième élément du vecteur à
l'aide de l'opérateur <kbd>[</kbd>&nbsp;:

</p>

<pre>v [3]
[1] 3.141593
</pre>

<p>

On peut aussi demander la valeur des éléments 1 et 3 du vecteur en
fournissant plusieurs indices, comme suit&nbsp;:

</p>

<pre>v [c (1, 3)]
[1] 0.000000 3.141593
</pre>

<p>

On voit que pour cela, on a spécifié un vecteur dont les composantes
sont les indices qui nous intéressent (<kbd>c (1, 3)</kbd> est un
vecteur de deux éléments, le premier vaut 1, le second vaut 3).

<br/>
<br/>

On vient donc de présenter une opération très utile et très importante
en R&nbsp;: <span class="important">accéder aux élements d'un vecteur
en utilisant un autre vecteur (dénommé «&nbsp;<span
class="index">vecteur d'index</span>&nbsp;») qui contient le numéro
des composantes que l'on veut sélectionner</span>.

<br/>
<br/>

Une autre manière de spécifier les indices qui nous intéressent est la
suivante&nbsp;: <kbd>2:4</kbd> est un vecteur dont les éléments sont
2, 3 et 4.

<br/>
<br/>

Une autre notation pour la même chose consiste à utiliser la fonction
<kbd>seq()</kbd>. Ainsi, 

</p>

<pre>> seq (2, 4)</pre>

<p>

(ou 

</p>

<pre>> seq (from = 2, to = 4)</pre>

<p>

) produit un vecteur dont les éléments sont 2, 3 et 4.

<br/>

L'intérêt de cette fonction <kbd>seq()</kbd>uence et que l'on peut lui
indiquer plus généralement la valeur du premier indice, du dernier
indice et de l'incrément pour passer de l'un à l'autre. Ainsi&nbsp;:

</p>

<pre>> seq (from = 1, to = 10, by = 2)
[1] 1 3 5 7 9
</pre>

<p>

l'incrément peut aussi être négatif&nbsp;:

</p>

<pre>> seq (from = 10, to = -5, by = -2)
[1] 10  8  6  4  2  0 -2 -4
</pre>

<!--
  v <- c (v , 89 )
  w2 <- c (v, w)
  -->

<div class="exercices">

  <p>

  La fonction <kbd>runif()</kbd> génère des nombres pseudo-aléatoires
  depuis une distribution de probabilité uniforme. On va l'utiliser
  pour générer des vecteurs aussi grands que l'on veut. Ainsi,
  tapez&nbsp;:

  </p>

  <pre>> vu &lt;- runif (100)</pre>

  <p>

  et la variable <kbd>vu</kbd> contient un vecteur de 100 composantes
  dont la valeur a été tirée au hasard entre 0 et 1.

  </p>

  <ul>
    <li>quelle est la somme des composantes du vecteur
     <kbd>vu</kbd>&nbsp;?</li>
    <li>quelle commande tapez-vous pour que le vecteur dénommé
     <kbd>vsomme</kbd> contienne 10 composantes, la première étant la
     somme des composantes 1 et 91 de <kbd>vu</kbd>, la deuxième étant
     la somme des composantes 2 et 92 de <kbd>vu</kbd>, la troisième
     étant la somme des composantes 3 et 93 de <kbd>vu</kbd>, ..., 
     la dixième étant la somme des composantes 10 et 100 de
     <kbd>vu</kbd>&nbsp;? (tapez-là)&nbsp;;</li>
    <li>quelle commande tapez-vous pour calculer la somme des éléments
      d'indice pair de <kbd>vu</kbd>&nbsp;?</li>
    <li>on veut obtenir le vecteur <kbd>vs</kbd> ayant 50 composantes,
     dont la valeur de la composante i est la somme des composantes
     2*i-1 et 2*i de <kbd>vu</kbd>. Comment faites-vous&nbsp;?</li>
  </ul>

</div>

<h3>Quelques fonctions statistiques sur les vecteurs</h3>

<p>

En statistique et fouille de données, un vecteur va typiquement
contenir des données sur lesquelles on voudra effectuer des
traitements statistiques. Les plus simples sont résumés dans la table
ci-dessous&nbsp;:

</p>

<center>
  <table border="3">
    <tr><th>notation en R</th><th>valeur</th>
      <th>résultat sur l'exemple</th></tr>
    <tr><td align="center"><kbd>mean (v)</kbd></td>
        <td align="center">la moyenne des éléments de
          <kbd>v</kbd></td>
        <td align="center"><kbd>1.730398</kbd></td></tr>
    <tr><td align="center"><kbd>var (v)</kbd></td>
        <td align="center">la variance des éléments de
          <kbd>v</kbd></td>
        <td align="center"><kbd>7.246964</kbd></td></tr>
    <tr><td align="center"><kbd>sd (v)</kbd></td>
        <td align="center">l'écart-type des éléments de
          <kbd>v</kbd></td>
        <td align="center"><kbd>2.692019</kbd></td></tr>
    <tr><td align="center"><kbd>summary (v)</kbd></td>
        <td align="center">fournit plusieurs statistiques sur les
          éléments de <kbd>v</kbd></td>
        <td align="center">
          <kbd>   Min. 1st Qu.  Median    Mean 3rd Qu.   Max.</kbd><br/>
          <kbd> -1.000  -0.250   1.571   1.730   3.551   4.780</kbd></td></tr>
  </table>
</center>

<br/>

<div class="exercices">

  <ul>
    <li>Comprenez ce que représentent toutes les valeurs affichées par
      <kbd>summary(v)</kbd>.</li>
    <li>étudiez la fonction <kbd>median()</kbd>&nbsp;: que
      fait-elle&nbsp;? comment s'utilise-t-elle&nbsp;?</li>
    <li>étudiez la fonction <kbd>quantile()</kbd>&nbsp;:
      <i>idem</i>&nbsp;;</li>
    <li>quelle sont la moyenne et l'écart-type des composantes de
     <kbd>vu</kbd>&nbsp;? Qu'en pensez-vous&nbsp;?</li>
  </ul>

</div>

<h3>Indexation par un vecteur de booléens</h3>

<p>

Outre les nombres, R manipule des booléens, qui prennent soit la
valeur <kbd>TRUE</kbd> (que l'on peut abréger en <kbd>T</kbd>), soit
la valeur <kbd>FALSE</kbd> (que l'on peut abréger en <kbd>F</kbd>).

<br/>

Les booléens apparaissent typiquement à l'occasion du test de la
valeur d'une variable&nbsp;: est-elle égale à une autre valeur, plus
petite, plus grande, ... La table ci-dessous indique ces
opérateurs&nbsp;:

</p>

<center>
  <table border="3">
    <tr><th>notation en R</th><th>valeur</th>
      <th>résultat sur l'exemple</th></tr>
    <tr><td align="center"><kbd>a == 1</kbd></td>
        <td align="center">teste l'égalité entre deux valeurs</td>
        <td align="center"><kbd>FALSE</kbd></td></tr>
    <tr><td align="center"><kbd>a != 1</kbd></td>
        <td align="center">teste la différence entre deux valeurs</td>
        <td align="center"><kbd>TRUE</kbd></td></tr>
    <tr><td align="center"><kbd>a &lt; 1</kbd></td>
        <td align="center">c'est clair, non&nbsp;!</td>
        <td align="center"><kbd>FALSE</kbd></td></tr>
    <tr><td align="center"><kbd>a &lt;= 1</kbd></td>
        <td align="center">ça aussi</td>
        <td align="center"><kbd>FALSE</kbd></td></tr>
    <tr><td align="center"><kbd>a &gt; 1</kbd></td>
        <td align="center">ça aussi</td>
        <td align="center"><kbd>TRUE</kbd></td></tr>
    <tr><td align="center"><kbd>a &gt;= 1</kbd></td>
        <td align="center">ça aussi</td>
        <td align="center"><kbd>TRUE</kbd></td></tr>
  </table>
</center>

<p>

Bien sûr, on peut comparer la valeur de deux variables (donc, écrire
<kbd>a == b</kbd> qui donne <kbd>FALSE</kbd> ici).

<br/>

De la même manière, on peut effectuer ces opérations sur les éléments
d'un vecteur. Ainsi,

</p>

<pre>> v &lt; w
[1]  TRUE FALSE FALSE FALSE
</pre>

<p>

Tout comme plus haut on a sélectionné les éléments d'un vecteur avec
un vecteur d'indices, on peut sélectionner les éléments d'un vecteur
avec un vecteur de booléens. Ainsi, si l'on veut affecter à 100 les
éléments de <kbd>v</kbd> qui sont plus petits que ceux de
<kbd>w</kbd>, on pourra écrire&nbsp;:

</p>

<pre>> v [v &lt; w] &lt;- 100
</pre>

<p>

Cette opération ne modifiera que le premier élément de <kbd>v</kbd>,
qui correspond à la seule valeur <kbd>TRUE</kbd> du vecteur de
booléens utilisé pour l'indexer.

</p>

<div class="exercices">

  <ul>
    <li>quelle est la somme des composantes du vecteur
      <kbd>vu</kbd> dont la valeur est > 0,5&nbsp;?</li>
    <li>combien le vecteur <kbd>vu</kbd> a-t-il de composantes dont la
      valeur est > 0,5&nbsp;?</li>
  </ul>

</div>

<h3>Quelques détails de plus sur les booléens</h3>

<p>

Il existe des opérations sur les booléens, celles de l'algèbre de
Boole&nbsp;: ET, OU, NON, ... On suppose que l'on a défini deux
vecteurs booléens comme suit&nbsp;:

</p>

<pre>> bool1 &lt;- c (T, T, F)
> bool2 &lt;- c (F, T, F)
</pre>

<p>

On résume les principales opérations logiques dans la table ci-dessous&nbsp;:

</p>

<center>
  <table border="3">
    <tr><th>notation en R</th><th>valeur</th>
      <th>résultat sur l'exemple</th></tr>
    <tr><td align="center"><kbd>bool1 &amp; bool2</kbd></td>
        <td align="center">ET logique</td>
        <td align="center"><kbd>FALSE  TRUE FALSE</kbd></td></tr>
    <tr><td align="center"><kbd>bool1 | bool2</kbd></td>
        <td align="center">OU logique</td>
        <td align="center"><kbd>TRUE  TRUE FALSE</kbd></td></tr>
    <tr><td align="center"><kbd>! bool1</kbd></td>
        <td align="center">négation</td>
        <td align="center"><kbd>FALSE FALSE  TRUE</kbd></td></tr>
  </table>
</center>

<div class="exercices">

  <ul>
    <li>combien le vecteur <kbd>vu</kbd> a-t-il de composantes dont la
      valeur est comprise entre 0,25 et 0,75&nbsp;?</li>
  </ul>

</div>

<h2>Les <i>data frames</i></h2>

<p>

En statistique et en fouille de données, les données sont généralement
disponibles sous forme de tableaux de données, chaque ligne
correspondant à une donnée, chaque colonne à un attribut.

En R, ces tableaux de données portent le nom de <span
class="index"><i>data frame</i></span>.

<br/>

Un <i>data frame</i> est en fait un ensemble de vecteurs, tous de la
même taille&nbsp;; chaque vecteur contient la valeur d'un attribut
pour l'ensemble des données. S'il y a N données, chaque vecteur
contient N valeurs.

<br/>

De plus, chaque colonne/vecteur du <i>data frame</i> possède un nom
qui permet de le référencer&nbsp;: c'est le nom de l'attribut.

<br/>
<br/>

Illustrons tout cela sur un exemple. A priori, vous obtenez vos
données sous la forme d'un fichier. Par exemple, prenons le fichier <a
href="./jeu1.txt">que vous obtenez en cliquant ici</a>. Nous indiquons
le contenu de ce fichier&nbsp;:

</p>

<pre>
p1-palmitic oleic l1-linoleic arachidic eicosenoic
 1075 7823 672 60 29
 1088 7709 781 61 NA
 911 NA 549 63 29
 966 7952 619 78 35
 1051 7771 672 NA 46
 911 NA 678 70 44
 922 7990 618 56 29
</pre>

<p>

On y voit&nbsp;:

</p>

<ul>
  <li>8 lignes&nbsp;;</li>
  <li>la première contient le nom des attributs&nbsp;; les noms sont
    séparés les uns des autres par un espace&nbsp;;</li>
  <li>les 7 lignes suivantes contiennent la valeur de ces attributs
    pour chacune des données&nbsp;; il y a donc 7 données dans ce
    fichier&nbsp;;</li> 
  <li>chaque ligne contient la valeur de chacun des attributs pour
    cette donnée&nbsp;;</li> 
  <li>certaines valeurs sont <kbd>NA</kbd>, c'est-à-dire <i>non
    available</i>, autrement dit, inconuue.</li> 
</ul>

<p>

Pour charger ce tableau de données dans une variable R, on utilise la
fonction <kbd>read.table()</kbd>&nbsp;:

</p>

<pre>> jeu1 &lt;- read.table
	("https://philippe.preux.github.io/ensg/miashs/fouilleDeDonneesI/tp/introduction-a-R/jeu1.txt", header = T)
</pre>

<p>

L'option <kbd>header = T</kbd> indique que la première ligne du
fichier contient le nom des attributs. Si cette ligne spécifiant le
nom des attributs est absente, on ne met pas cette option.

<br/>
<br/>

Notons également que le fichier a été récupéré sur le <i>web</i>
directement en spécifiant une url. Si le fichier est sur votre compte,
vous pouvez aussi le charger bien entendu en donnant son nom (qui ne
débutera donc pas par <kbd>http://...</kbd> dans ce cas-là).

<br/>
<br/>

Vous pouvez maintenant taper <kbd>jeu1</kbd> pour visualiser le
tableau de données que vous venez de charger dans cette variable. Vous
obtenez&nbsp;:

</p>

<pre>> jeu1
  p1.palmitic oleic l1.linoleic arachidic eicosenoic
1        1075  7823         672        60         29
2        1088  7709         781        61         NA
3         911    NA         549        63         29
4         966  7952         619        78         35
5        1051  7771         672        NA         46
6         911    NA         678        70         44
7         922  7990         618        56         29
</pre>

<p>

La première ligne indique le nom des attributs&nbsp;; les lignes sont
numérotées.

<br/>
<br/>

On peut alors accéder à ces données de différentes manières&nbsp;:

</p>

<ul>
  <li>la donnée numéro 2 par <kbd>jeu1 [2,]</kbd>&nbsp;;</li>
  <li>les données dont le numéro est compris entre 2 et 6 par
    <kbd>jeu1 [2:6,]</kbd>&nbsp;;</li>
  <li>l'attribut 5 de la donnée 2 en spécifiant son numéro 
    <kbd>jeu1 [2, 5]</kbd>&nbsp;;</li>
  <li>l'attribut eicosenoic de la donnée 2 en spécifiant son nom,
    comme ceci <kbd>jeu1 [2,]$eicosenoic</kbd>, ou comme cela
    <kbd>jeu1 [2, "eicosenoic"]</kbd> &nbsp;;</li>
  <li>la valeur de cet attribut pour toutes les données en spécifiant
    son numéro <kbd>jeu1 [,5]</kbd>, ou son nom comme ceci
    <kbd>jeu1$eicosenoic</kbd>, ou comme cela
    <kbd>jeu1 [["eicosenoic"]]</kbd>&nbsp;;</li>
  <li>tous les attributs sauf les numéros 1 et 3 de la donnée numéro
    2&nbsp;: <kbd>jeu1 [2, - c (1, 3)]</kbd>&nbsp;;</li>
  <li>et toutes les combinaisons que vous pouvez imaginer.</li>
</ul>

<p>

Pour résumer&nbsp;:

</p>

<ul>
  <li>on accède via le numéro de la donnée et de son attribut par la
    notation <kbd>[numéro de ligne, numéro de colonne]</kbd>, l'un des
    deux numéros pouvant ne pas être spécifier (si le numéro de ligne
    manque, c'est que l'on veut le résultat pour toutes les données, si le
    numéro de colonne manque, c'est que l'on veut le résultat pour tous
    les attributs).</li>
  <li>à la place du numéro d'attribut, on peut spécifier son nom</li>
</ul>

<p>

Du moment que l'on sait spécifier la donnée ou l'attribut qui nous
intéresse, on peut lui appliquer toutes les opérations et fonctions
déjà vues. Ainsi,

</p>

<pre>> mean (jeu1$l1.linoleic)
</pre>

<p>

donne la moyenne de l'attribut <kbd>l1.linoleic</kbd>. 

<br/>

Très utile, la fonction <kbd>summary()</kbd> s'applique à tous les
attributs d'un jeu de données à la fois&nbsp;:

</p>

<pre>> summary (jeu1)
  p1.palmitic         oleic       l1.linoleic      arachidic
 Min.   : 911.0   Min.   :7709   Min.   :549.0   Min.   :56.00
 1st Qu.: 916.5   1st Qu.:7771   1st Qu.:618.5   1st Qu.:60.25
 Median : 966.0   Median :7823   Median :672.0   Median :62.00
 Mean   : 989.1   Mean   :7849   Mean   :655.6   Mean   :64.67
 3rd Qu.:1063.0   3rd Qu.:7952   3rd Qu.:675.0   3rd Qu.:68.25
 Max.   :1088.0   Max.   :7990   Max.   :781.0   Max.   :78.00
                  NA's   :   2                   NA's   : 1.00
   eicosenoic
 Min.   :29.00
 1st Qu.:29.00
 Median :32.00
 Mean   :35.33
 3rd Qu.:41.75
 Max.   :46.00
 NA's   : 1.00
</pre>

<p>

Quelques fonctions utiles sur les <i>data frames</i>&nbsp;:

</p>

<ul>
  <li><kbd>nrow (jeu1)</kbd> donne le nombre de lignes, donc de
    données dans le <i>data frame</i>&nbsp;;</li>
  <li><kbd>ncol (jeu1)</kbd> donne le nombre de colonnes, donc
    d'attributs dans le <i>data frame</i>&nbsp;;</li>
  <li><kbd>names (jeu1)</kbd> donne le nom des attributs du <i>data
    frame</i>.</li>
</ul>

<div class="exercices">

<ul>
  <li>comment obtenez-vous la valeur des attributs de la donnée dont
    l'attribut <kbd>p1.palmitic</kbd> est maximale dans le jeu de
    donnée <kbd>jeu1</kbd>&nbsp;?</li>
  <li>comment obtenez-vous la valeur de l'attribut
    <kbd>p1.palmitic</kbd> pour la donnée dont l'attribut
    <kbd>l1.linoleic</kbd> est minimale&nbsp;?</li>
  <li>calculez l'individu moyen de ce jeu de donnée, c'est-à-dire, un
    individu synthétique dont chaque attribut a pour valeur la moyenne
    de cet attribut dans le jeu de données.</li>
</ul>

</div>

<h3>Attributs qualitatifs</h3>

<p>

Naturellement, un attribut peut être qualitatif. Par exemple, le
fichier disponible <a href="./jeu2.txt">en cliquant ici</a> contient
le même jeu de données, si ce n'est que le 5<sup>e</sup> attribut est
qualitatif.

</p>

<div class="exercices">

<ul>
  <li>chargez ce jeu de données dans une variable dénommée
    <kbd>jeu2</kbd>&nbsp;;</li>
  <li>regardez le 5<sup>e</sup> attribut et constatez.</li>
</ul>

</div>

<p>

Pour un attribut qualitatif, la commande&nbsp;:

</p>

<pre>> levels (jeu2$eicosenoic)
</pre>

<p>

fournit la liste des valeurs possibles de cet attribut&nbsp;:

</p>

<pre>
[1] "beaucoup" "moyen"    "pas-mal"  "un-peu"
</pre>

<p>

Dans R, un attribut qualitatif est dénommé un <span
class="index">facteur</span>.

<br/>

On peut très facilement obtenir une table de contingence pour un
attribut qualitatif (c'est-à-dire, la répartition des données entre
chacune de ses valeurs) par&nbsp;:

</p>

<pre>> table (jeu2$eicosenoic)

beaucoup    moyen  pas-mal   un-peu
       1        1        1        3
</pre>


<h3>Les NA</h3>

<p>

La fonction <kbd>is.na()</kbd> produit un booléen qui vaut
<kbd>TRUE</kbd> si son paramètre est une valeur <kbd>NA</kbd>.
Ainsi, 

</p>

<pre>> is.na (jeu2$eicosenoic)
[1] FALSE  TRUE FALSE FALSE FALSE FALSE FALSE
</pre>

<div class="exercice">

  <ul>
    <li>remplacer les <kbd>NA</kbd> du <kbd>jeu1</kbd> par la moyenne
      de l'attribut.</li>
  </ul>
</div>

<h2>Quelques graphiques</h2>

<p>

Les graphiques sont un élément essentiel d'un travail de fouille de
données ou de statistique. R permet de faire des tas de
graphiques. Nous en voyons quelques uns ici&nbsp;; nous en verrons
d'autres par la suite.

<br/>
<br/>

Chargeons un <i>data frame</i>&nbsp;:

</p>

<pre>> olives &lt;- read.table ("https://philippe.preux.github.io/ensg/miashs/datasets/olive.dat")
</pre>

<p>

Pour prendre un peu connaissance avec ce jeu de données, regardez
combien il contient de données, ainsi que les attributs. Remarquons
qu'ici, les attributs ne portent pas de nom. Par défaut, R leur donne
donc les noms <kbd>V1</kbd>, <kbd>V2</kbd>, ...

<br/>
<br/>

Si l'on veut visualiser l'attribut <kbd>V3</kbd>, on tape la
	  commande&nbsp;:

</p>

<pre>> plot (olives$V3)</pre>

<p>

On obtient ainsi une représentation planaire de cet attribut&nbsp;: en
abscisses, on a simplement le numéro de la donnée, et en ordonnées, la
valeur de cet attribut pour cette donnée.

<br/>
<br/>

On peut alors éventuellement distinguer des tendances. Vous voyez
quelque chose ici&nbsp;?

<br/>
<br/>

(On y reviendra durant le cours régulièrement mais disons-le dès
maintenant&nbsp;: <span class="important">face à un jeu de données que
l'on doit étudier, il est toujours bon de commencer par y jeter un
coup d'&oelig;il</span>. Parfois, des propriétés remarquables sautent
aux yeux&nbsp;; l'analyse permettra de quantifier ces choses qui
auront été vues, voire, parfois, de démontrer que ce que l'on a cru
voir n'existe pas, du moins qu'il n'est pas statistiquement
significatif.)

<br/>
<br/>

Pour faire un travail sérieux, il convient de mettre des légendes à ce
graphique&nbsp;: une légende sur chacun des deux axes, un titre et les
points en bleu&nbsp;:

</p>

<pre>> plot (olives$V3, main = "attribut 3 du jeu de données olives", xlab = "numéro de la donnée", ylab = "V3", col = "blue")
</pre>

<p>

On peut aussi vouloir obtenir le graphe de l'attribut <kbd>V6</kbd> en
fonction de l'attribut <kbd>V3</kbd> (n'oublions pas qu'en fouille de
données, l'activité de base consiste à trouver des corrélations entre
attributs, linéaires ou pas). On obtient ce graphe comme suit&nbsp;:

</p>

<pre>> plot (olives$V3, olives$V6)</pre>

<p>

où vous ajouterez les options nécessaires pour obtenir les légendes
adéquates.

<br/>
<br/>

Typiquement, quand vous avez fait un joli graphique, vous avez envie
de pouvoir le récupérer dans un fichier pourl'insérer dans un
compte-rendu ou autre rapport. R peut ainsi générer des graphiques à
l'écran, mais aussi dans des fichiers aux formats jpg, pdf ou png
(pour ne citer que les principaux).

<br/>
<br/>

Supposons que vous vouliez obtenir un fichier pdf, vous tapez la
commande&nbsp;:

</p>

<pre>> pdf ("mon-graphique.pdf")</pre>

<p>

Vous retapez la commande qui a généré votre graphique plus haut et
celui-ci ira se mettre dans le fichier <kbd>mon-graphique.pdf</kbd>.

<br/>
<br/>

Ensuite, pour obtenir à nouveau l'affichage à l'écran, vous tapez la
commande&nbsp;:

</p>

<pre>> dev.off()</pre>

<p>

Si vous voulez obtenir un fichier jpg, vous utilisez la commande
<kbd>jpeg()</kbd>&nbsp;; pour un fichier png, vous utilisez la
commande <kbd>png()</kbd>.

</p>

<h3>Récupérer son travail quand on a quitté R</h3>

<p>

Comme on l'a vu au début du TP, quand vous quittez R, vous pouvez
sauvegarder votre travail pour la prochaine séance ou pour l'emmener
chez vous, ...

<br/>
<br/>

Pour cela, il faut savoir que lorsque vous quittez R en sauvegardant
votre travail, R place celui-ci dans deux fichiers dénommés
<kbd>.RData</kbd> et <kbd>.Rhistory</kbd>. Ce sont ces deux fichiers
qu'il vous faut récupérer et mettre sur votre clé USB ou vous envoyez
par email en pièces jointes par exemple.

</p>

 <!-- 


<p>

La fonction <tt>data()</tt> permet d'obtenir la liste des jeux de données
fournis avec R. Essayez <tt>data(women)</tt>, puis <tt>women</tt> pour
l'afficher.

</p>

<h2>Fonctions graphiques</h2>

<p>

La commande <tt>plot</tt> permet de tracer des graphiques. Essayez
<tt>plot(1:10,5:14)</tt>. Essayez <tt>plot(women)</tt>.

<br/>
<br/>

Exercice&nbsp;: essayez de trouver la loi reliant height à weight dans
le jeu de données <tt>women</tt>&nbsp;: ajouter une colonne contenant
le carré de la taille, et une colonne contenant le cube de la taille,
puis faire <tt>plot(women)</tt>.


 <br/>
   pour cette dernière question :
 <pre>
    women$carre.taille <- women$height^2
    women$cube.taille <- women$height^3
 </pre>

</p>

<h2>Créer ses propres fonctions</h2>

<p>

Comme on vient de commencer à le voir, R possède de nombreuses
fonctions. Cependant, tout utilisateur en vient généralement à vouloir
disposer de fonctions supplémentaires qui correspondent
exactement à ses besoins.

<br/>
<br/>

Supposons que vous vouliez souvent calculer les racines d'équations du
deuxième degré. Vous pouvez définir une fonction qui va le faire comme
suit&nbsp;:

</p>

<pre>
rp2d&lt;- function (a, b, c) {
    delta&lt;- sqrt (b * b - 4 * a * c)
    x1 &lt;- (- b - delta) / 2 / a
    x2 &lt;- (-b + delta) / 2 / a
    c (x1, x2)
}
</pre>

<p>

Cela définit une fonction que l'on assigne au symbole <kbd>rp2d</kbd>
(Racine d'un Polynome du 2e Degré). Cette fonction prend trois
paramètres <kbd>a</kbd>, <kbd>b</kbd> et <kbd>c</kbd> qui sont les
trois coefficients apparaissant dans une équation du deuxième
degré. Entre <kbd>{</kbd> et <kbd>}</kbd>, on trouve le <i>corps</i>
de la fonction qui effectue l'extraction des racines&nbsp;:

</p>

<ul>
  <li>calcul du discriminant dont la valeur est mise dans la variable 
	  <kbd>delta</kbd>&nbsp;;</li>
  <li>calcul de la première racine dont la valeur est mise dans la 
	  variable <kbd>x1</kbd>&nbsp;;</li>
  <li>calcul de la seconde racine dont la valeur est mise dans la 
	  variable <kbd>x2</kbd>&nbsp;;</li>
  <li>construction d'un vecteur composé de ces deux racines. Cela
	  fournira la valeur de la fonction pour un certain triplet 
	  <kbd>a, b, c</kbd>.</li>
</ul>

<p>

Tapez cette fonction et utilisez-là pour résoudre l'équation proposée
plus haut.

<br/>
<br/>

Résoudre également x<sup>2</sup> - 1 = 0.

<br/>
<br/>

Essayez de résoudre l'équation 2 * x<sup>2</sup> + 5 * x + 12 = 0. Y
arrivez-vous&nbsp;? Si non, d'où vient le problème... Quand vous avez
identifié le problème, résolvez-le.

</p>

<h2>Quelques manipulations d'un jeu de données</h2>

<p>

On prend le jeu de données correspondant au jeu de tennis avec des
attributs température et humidité numériques.

On charge un jeu de données dans R à l'aide de la commande <kbd>tenna
&lt;- read.table("http://www.grappa.univ-lille3.fr/~ppreux/ensg/miashs/tp-R/tenna.txt")</kbd>. Faites-le puis essayez et
interprétez les commandes suivantes en vous rappelant qu'un jeu de
données est une liste de colonnes, chaque colonne correspondant à un
attribut.

</p>

<ul>
  <li><kbd>tenna</kbd>&nbsp;;</li>
  <li><kbd>names(tenna)</kbd>&nbsp;;</li>
  <li><kbd>tenna[1]</kbd>&nbsp;;</li>
  <li><kbd>tenna$Ciel</kbd>&nbsp;;</li>
  <li><kbd>tenna[[1]]</kbd>&nbsp;;</li>
  <li><kbd>levels(tenna$Ciel)</kbd>.</li>
</ul>

<p>

Certaines valeurs sont non disponibles&nbsp;: elles sont indiquées par
NA.

<br/>
<br/>

Comme on peut ajouter un élément à une liste, on peut ajouter un
attribut à un jeu de données. Par exemple, ajoutez un nouvel attribut
qui est le rapport Température / Humidité. Nommez-le
«&nbsp;rapport&nbsp;».

<br/>
<br/>

Exercice&nbsp;: calculez la moyenne des températures. Que
constatez-vous&nbsp;? Êtes-vous satisfait du résultat&nbsp;?

<br/>

Essayez de calculer les valeurs minimale et maximale, et la variance.

<br/>
<br/>

Nous allons y remédier&nbsp;; tapez les commandes suivantes et
interprétez leur résultat&nbsp;:

</p>

<ul>
  <li><kbd>tenna$Température</kbd>&nbsp;;</li>
  <li><kbd>is.na(tenna$Température)</kbd>&nbsp;;</li>
  <li><kbd>!is.na(tenna$Température)</kbd>&nbsp;;</li>
  <li><kbd>températureSansNA &lt;- tenna$Température[!is.na(tenna$Température)]</kbd>&nbsp;;</li>
  <li><kbd>températureSansNA</kbd>.</li>
</ul>

<p>

C'est bon&nbsp;? Vous savez calculer la moyenne des températures
disponibles&nbsp;? Normalement, oui.

<br/>

Exercice&nbsp;: calculez la moyenne et la variance des attributs
température et humidité.

<br/>
<br/>

Ces valeurs non disponibles peuvent poser problème. Pour appliquer
certains algorithmes, on les remplace par des valeurs particulières.

<br/>

Exercice&nbsp;: remplacer les NA par la valeur moyenne de l'attribut.

<br/>

Exercice&nbsp;: remplacer les NA par la valeur moyenne de l'attribut
pour la classe de l'exemple. (Si vous avez écrasé les NA lors de votre
précédente manipulation, rechargez le jeu de données depuis le
fichier.)

<br/>
<br/>

Pour finir en beauté, on va calculer l'entropie de ce jeu de données...

<br/>

Tapez et interprétez les commandes suivantes&nbsp;:

</p>

<ul>
  <li><kbd>tenna$Jouer</kbd>&nbsp;;</li>
  <li><kbd>tenna$Jouer == "Oui"</kbd>&nbsp;;</li>
  <li><kbd>oui &lt;- tenna$Jouer [tenna$Jouer == "Oui"]</kbd>.</li>
</ul>

<p>

et maintenant, calculez l'entropie du jeu de données...

<br/>
<br/>

Des exercices pour terminer&nbsp;:

</p>

<ul>
  <li>écrivez une fonction qui calcule l'entropie d'un jeu de 
	  données dont la classe est binaire&nbsp;;</li>
  <li>écrivez une fonction qui calcule l'entropie d'un jeu de 
	  données dont la classe est quelconque&nbsp;;</li>
  <li>écrivez une fonction qui calcule le gain d'information pour
	  un jeu de données et un attribut.</li>
</ul>


<h2>Pour terminer votre découverte de R</h2>

<p>

Un certain nombre de démos sont fournies avec R. Vous en avez la liste
avec la commande <kbd>demo()</kbd>. Essayez par exemple les commandes
<kbd>demo(graphics)</kbd>, <kbd>demo(persp)</kbd> et <kbd>demo(image)</kbd>.

<br/>
<br/>

Sachez que R permet d'appliquer de très nombreuses méthodes
statistiques que nous étudierons en cours de fouille de données ou
celles que vous étudierez dans les cours de maths (régression linéaire
et non linéaire, analyse factorielle, ...). Pour cela, il suffit
d'apprendre à manipuler R et lire la documentation pour trouver la
fonction qui fait le traitement statistique que l'on veut réaliser.

</p>

-->


<h2>Références</h2>

<p>

Pour aller plus loin en R, mieux comprendre ce que l'on vient de faire
et ce que l'on fera, et mieux connaître R&nbsp;:

</p>

<ul>
  <li><a href="http://cran.r-project.org/doc/manuals/R-intro.pdf"><i>An Introduction to R</i></a>&nbsp;;</li>
  <li><a href="http://cran.univ-lyon1.fr/doc/contrib/rdebuts_fr.pdf">
      R pour les débutants</a>&nbsp;;</li>
  <li><a href="http://cran.r-project.org/doc/contrib/Verzani-SimpleR.pdf"><i>Using R for introductory statistics</i></a>&nbsp;;</li>
  <li><a
    href="http://cran.r-project.org/doc/contrib/Short-refcard.pdf">mémento des commandes très utiles de R</a>&nbsp;;</li>
  <li><a href="http://zoonek2.free.fr/UNIX/48_R_2004/all.html">un excellent site sur R, en français</a>&nbsp;;</li>
  <li>Pour récupérer R et l'installer sur votre machine&nbsp;:
    <ul>
      <li>connectez-vous sur <a href="http://www.r-project.org/">le
        site de R</a>&nbsp;;</li>
      <li>allez dans la section «&nbsp;Download&nbsp;» et cliquez sur
        CRAN&nbsp;;</li> 
      <li>là, vous choisissez votre mirroir, situé pas trop loin de
        chez vous (France ou Belgique)&nbsp;;</li>
      <li>vous devez maintenant vous trouvez sur une page qui vous
        permet de récupérer R pour différentes plateformes&nbsp;:
        Linux, Mac OS, autres. Faites votre choix&nbsp;;</li>
      <li>une fois R récupéré, son installation ne pose en principe
        aucune difficulté.</li>
    </ul></li>
</ul>

<!--
<p>

<a href="http://validator.w3.org/check?uri=referer"><img
    src="../../../../../img/valid-xhtml10"
    alt="Valid XHTML 1.0 Transitional" height="15" width="44" /></a>

<a href="http://jigsaw.w3.org/css-validator/check?uri=referer">
  <img style="border:0;width:44px;height:15px"
       src="../../../../../img/vcss" 
       alt="Valid CSS!" /></a>

</p>
  -->
</div>

<!-- Start of StatCounter Code -->
<script type="text/javascript" language="javascript">
var sc_project=2030719; 
var sc_invisible=1; 
var sc_partition=18; 
var sc_security="2ee406dd"; 
</script>

<script type="text/javascript" language="javascript" src="http://www.statcounter.com/counter/counter.js"></script><noscript><a href="http://www.statcounter.com/" target="_blank"><img  src="http://c19.statcounter.com/counter.php?sc_project=2030719&java=0&security=2ee406dd&invisible=0" alt="" border="0"></a> </noscript>
<!-- End of StatCounter Code -->

</body>
</html>
